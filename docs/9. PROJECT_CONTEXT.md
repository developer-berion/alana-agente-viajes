# PROJECT_CONTEXT.md - Travel-Mind B2B

## Contexto del Proyecto
Sistema de asesoría B2B para mayoristas de viajes que utiliza RAG (Vertex AI Search) y persistencia en Firestore para mitigar riesgos financieros (ADMs) y mejorar la eficiencia operativa.

## Estado Actual
- **Fase:** Completado / Sprint 1 Finalizado.
- **Repositorio:** https://github.com/developer-berion/alana-agente-viajes.git
- **Stack:** React/Streamlit (FE), FastAPI/Python/ADK (BE), Firestore (DB).
- **CI/CD:** GitHub Actions -> Cloud Run (Travel-Mind Service).

## Decisiones Arquitectónicas (ADRs)
1. **Persistencia Inmutable:** Todo mensaje se guarda en Firestore; prohibido borrar historial para fines de auditoría legal.
2. **Grounding Estricto:** Prohibido responder sin citar el Tour ID y el PDF fuente.
3. **Session-Based Navigation:** El estado se recupera vía `session_id` en la URL.

## Pendientes Críticos (Backlog Técnico)
- [x] Configuración de ambientes Test/Prod en GCP.
- [x] Implementación de `Idempotency-Key` en el orquestador.
- [x] Sidebar de historial con persistencia local/remota.
- [ ] Connect Real Vertex AI Search Index (currently mocked in local dev if creds missing).
- [ ] Implement full cursor-based pagination for history endpoint.

## Regla de Actualización
**MUST:** Antigravity DEBE actualizar este archivo después de completar cada tarea significativa, reflejando cambios en el "Estado Actual" y "Pendientes".