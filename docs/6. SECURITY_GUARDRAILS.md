# SECURITY_GUARDRAILS.md

## Infrastructure Security
- **IAM (Least Privilege):** The Cloud Run service operates under a service account with minimal permissions: `Cloud Build Editor`, `Cloud Run Invoker`, `Storage Object Viewer`, and `Firestore User`.
- **Public Access Management:** Public access is explicitly enabled via `roles/run.invoker` for `allUsers`, but internal communication (Streamlit -> FastAPI) is restricted to the local network stack (`127.0.0.1`).

## Data Privacy
- **Environment Variables:** All sensitive keys (GCP_SA_KEY, DATA_STORE_ID) are managed via GitHub Secrets and inlined only during controlled deployment phases.
- **Git Ignore:** The `.env` file is strictly ignored in Version Control to prevent accidental credential leakage.

## AI Groundedness
- **Prompt Injection Prevention:** The system uses a strict system instruction to prevent the agent from disclosing internal configuration or ignoring RAG context.
- **Fact-Checking:** The Gemini 3 Flash model is configured with a high-accuracy RAG bridge, ensuring 100% dependency on source documents (Vertex AI Search).
