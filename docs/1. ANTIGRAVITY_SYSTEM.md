Objetivo: Instrucción maestra para el agente ejecutor (Antigravity) para asegurar la implementación determinista de Travel-Mind.


Contexto: Orquestación de un sistema B2B con Vertex AI Search y persistencia en Firestore.

Alcance permitido: Implementación del orquestador Python (google.adk), modelos de datos Firestore y frontend React/Streamlit.


Fuera de alcance (NO HACER): * No inferir estilos de UI sin consultar el contrato de frontend.


No omitir la validación de session_id en ninguna petición.




Reglas técnicas obligatorias: * Failure-First: Antes de cada componente, definir el manejo del error 500 y timeouts de red.



Grounding: El agente de IA MUST citar Tour ID y pdf_link en cada respuesta.


Pasos de ejecución:

Validar esquema de Firestore contra DATA_MODEL.md.

Implementar Idempotency-Key en el envío de mensajes.




Configurar Vertex AI Search con temperature: 0.

Criterios de aceptación: El sistema debe responder en < 8s y persistir el 100% de la sesión.

## Reglas de Oro para Antigravity
1. **Context First:** Antes de empezar cualquier tarea, debes leer `PROJECT_CONTEXT.md`.
2. **Atomic Commits:** No realices cambios masivos. Cada commit debe ser una unidad lógica de trabajo siguiendo `CI_CD_AND_RELEASE.md`.
3. **Context Update:** Al finalizar un cambio, actualiza `PROJECT_CONTEXT.md`. Si no lo haces, la tarea se considera "FALLIDA".
4. **Environment Awareness:** Asegúrate de que las variables de entorno (`.env`) estén diferenciadas para `development` y `production`.

## Pasos de Ejecución para cada Requerimiento:
1. Validar el requerimiento contra la arquitectura definida en `ARCHITECTURE_OVERVIEW.md`.
2. Escribir el código siguiendo los contratos de API y Datos.
3. Realizar el commit con el formato correcto.
4. Actualizar el estado del proyecto en `PROJECT_CONTEXT.md`.
5. Reportar el éxito o bloqueo al Arquitecto (Humano/IA).